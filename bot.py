import loggingfrom aiogram import Bot, Dispatcher, typesfrom aiogram.contrib.middlewares.logging import LoggingMiddlewarefrom aiogram.utils import executorfrom dotenv import load_dotenvimport osfrom lotto_analysis import get_lotto_predictionsfrom payment_verification import is_user_paid, mark_user_as_paidload_dotenv()API_TOKEN = os.getenv('TELEGRAM_API_TOKEN')PAYMENT_LINK = os.getenv('PAYMENT_LINK') #  砖 专 -.envINVITE_LINK = os.getenv('INVITE_LINK')   #  砖 专 -.envADMIN_ID = 12345678  # 祝 -ID 砖 专  砖转 砖专 转logging.basicConfig(level=logging.INFO)bot = Bot(token=API_TOKEN)dp = Dispatcher(bot)dp.middleware.setup(LoggingMiddleware())@dp.message_handler(commands=['start'])async def send_welcome(message: types.Message):    await message.reply("专   专转 砖 \n"                        "抓 注 'Lotto'  拽 转转.",                        reply_markup=types.InlineKeyboardMarkup().add(                            types.InlineKeyboardButton('LOTTO', callback_data='lotto')                        ))@dp.callback_query_handler(lambda c: c.data == 'lotto')async def process_lotto(callback_query: types.CallbackQuery):    user_id = callback_query.from_user.id    logging.info(f"User {user_id} requested lotto")        if not is_user_paid(user_id):        await bot.send_message(user_id, " 拽 转转, 砖 爪注 转砖.",                               reply_markup=types.InlineKeyboardMarkup().add(                                   types.InlineKeyboardButton('砖 专 PAYPAL', url=PAYMENT_LINK or "http://paypal.com"),                               ))    else:        #  拽 砖 转 住驻专        results = get_lotto_predictions()         # 专 驻砖 砖 转爪转 拽住        results_text = "\n".join([str(row) for row in results])        await bot.send_message(user_id, f"住驻专 砖:\n{results_text}")# 驻拽 住转  砖专 砖转砖 转 (爪专 拽)# 砖砖: /approve 123456789@dp.message_handler(commands=['approve'])async def manual_approve(message: types.Message):    # if message.from_user.id != ADMIN_ID: return #  注专  专 砖转专 ADMIN_ID    try:        target_id = int(message.get_args())        mark_user_as_paid(target_id)        await message.reply(f"砖转砖 {target_id} 砖专 爪.")    except:        await message.reply(" 砖 ID 转拽. : /approve 12345678")if __name__ == '__main__':    executor.start_polling(dp, skip_updates=True)